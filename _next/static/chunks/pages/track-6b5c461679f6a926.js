(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[552],{3659:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/track",function(){return a(5452)}])},5717:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var r=a(2322),n=a(2784);let s=[2018,2019,2020,2021,2022,2023],i=["January","February","March","April","May","June","July","August","September","October","November","December"],l=[];for(let u=0;u<12;u++)l.push(new Date(2021,u+1,0).getDate());let c=e=>{let{setDate:t}=e,[a,u]=(0,n.useState)(2019),[c,o]=(0,n.useState)(0),[h,d]=(0,n.useState)(1),[g,m]=(0,n.useState)(l[0]),x=e=>{u(e.target.value),t(new Date(e.target.value,c,h))},p=e=>{o(e.target.value),m(l[e.target.value-1]),t(new Date(a,e.target.value,h))},v=e=>{d(e.target.value),t(new Date(a,c,e.target.value))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("select",{onChange:x,children:s.map(e=>(0,r.jsx)("option",{value:e,children:e},e))}),(0,r.jsx)("select",{onChange:p,children:i.map((e,t)=>(0,r.jsx)("option",{value:t,children:e},t))}),(0,r.jsx)("select",{onChange:v,children:Array(g).fill(0).map((e,t)=>(0,r.jsx)("option",{value:t+1,children:t+1},t))})]})},o=e=>{let{setRange:t}=e,[a,s]=(0,n.useState)(new Date(0,0)),[i,l]=(0,n.useState)(new Date(9999,0));return(0,n.useEffect)(()=>{t({start:a,end:i})},[a,i]),(0,r.jsxs)(r.Fragment,{children:["Start ",(0,r.jsx)(c,{setDate:s})," ",(0,r.jsx)("br",{}),"End ",(0,r.jsx)(c,{setDate:l})," ",(0,r.jsx)("br",{})]})};var h=o},5452:function(e,t,a){"use strict";a.r(t);var r=a(2322),n=a(1132),s=a(4252),i=a(929),l=a(2784),u=a(3255),c=a(4729),o=a(5717),h=a(2864),d=a(2565),g=a(5632);n.kL.register(...n.zX);let m=e=>{let{range:t}=e;return s.bb.getByPlayTime({range:t}).then(e=>({chartName:"Top Tracks",chartData:(0,i.topTrackChart)(e.slice(0,10)),tableData:(0,i.topTrackTable)(e)}))},x=e=>{let{artistName:t,trackName:a,albumName:r}=e;if(void 0!==a&&void 0!==t&&void 0!==r)return s.bb.get({artistName:t,trackName:a,albumName:r}).then(e=>e[0])},p=e=>{let{artistName:t,trackName:a,albumName:r}=e;if(void 0!==a&&void 0!==t&&void 0!==r)return s.O7.listeningTime({timeSpan:s.i9.WEEK,pageIndex:0,track:{artistName:t,trackName:a,albumName:r}}).then(e=>({chartName:"Listening Time",chartData:(0,i.listeningTimeWeekChart)(e),tableData:(0,i.listeningTimeWeekTable)(e)}))},v=e=>{let{data:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:t.track_name}),(0,r.jsx)("h3",{children:t.artist_name})]})},j=()=>{let e,t,a;let[n,s]=(0,l.useState)(void 0),i=(0,g.useRouter)(),c=i.asPath;if(c.includes("#")){let m=c.split("#")[1],j=new URLSearchParams(m);e=j.get("artistName"),t=j.get("trackName"),a=j.get("albumName")}let f=(0,u.ZP)({artistName:e,trackName:t,albumName:a,key:"track"},x),k=(0,u.ZP)({artistName:e,trackName:t,albumName:a,key:"listening"},p),{data:b,error:D}=(0,u.ZP)({range:n,key:"tracks"});return(0,r.jsxs)(r.Fragment,{children:[e?(0,r.jsx)(h.Z,{data:f.data,error:f.error,component:v}):null,(0,r.jsx)(o.Z,{setRange:s}),e?(0,r.jsx)(h.Z,{data:k.data,error:k.error,component:d.Z}):(0,r.jsx)(h.Z,{data:b,error:D,component:d.Z})]})};t.default=()=>(0,r.jsx)(c.J$,{value:{revalidateOnFocus:!1,fetcher:m},children:(0,r.jsx)(j,{})})},5632:function(e,t,a){e.exports=a(2203)}},function(e){e.O(0,[767,100,252,774,888,179],function(){return e(e.s=3659)}),_N_E=e.O()}]);