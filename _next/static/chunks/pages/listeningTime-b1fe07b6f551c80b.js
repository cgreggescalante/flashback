(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[874],{5056:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/listeningTime",function(){return a(8240)}])},8240:function(e,t,a){"use strict";a.r(t);var r=a(2322),n=a(1132),o=a(929),s=a(5862),l=a(2784),c=a(3738),i=a(3255),h=a(4457),x=a(8026);n.kL.register(...n.zX);let f={responsive:!0,plugins:{title:{display:!0,text:"Listening Time"}}},u={day:{offset:73,formatChart:o.SE,formatTable:o.Jc},week:{offset:52,formatChart:o.Wm,formatTable:o.dW},month:{offset:12,formatChart:o.My,formatTable:o.GT},year:{offset:0,formatChart:o.R_,formatTable:o.g5}},j=e=>{let{resolution:t,pageIndex:a}=e,r=u[t].formatChart,n=u[t].formatTable,o="".concat(s.GK).concat(t,"?offset=").concat(a*u[t].offset);return fetch(o).then(e=>e.json()).then(e=>e.items).then(e=>({chartData:r(e),tableData:n(e)}))},m=()=>fetch(s.MC).then(e=>e.json()).then(e=>e.items[0]),d=e=>{let t=Math.floor(e/1e3/60/60);e-=36e5*t;let a=Math.floor(e/1e3/60);e-=6e4*a;let r=Math.floor(e/1e3);return"".concat(t," hour").concat(t>1||0==t?"s":"",", ").concat(a," minute").concat(a>1||0==a?"s":"",", ").concat(r," second").concat(r>1||0==r?"s":"")},b=e=>{let{data:t}=e;return(0,r.jsxs)(r.Fragment,{children:["Yearly Max: ",d(t.yearly_max)," ",(0,r.jsx)("br",{}),"Yearly Average: ",d(t.yearly_average)," ",(0,r.jsx)("br",{})," ",(0,r.jsx)("br",{}),"Monthly Max: ",d(t.monthly_max)," ",(0,r.jsx)("br",{}),"Monthly Average: ",d(t.monthly_average)," ",(0,r.jsx)("br",{})," ",(0,r.jsx)("br",{}),"Weekly Max: ",d(t.weekly_max)," ",(0,r.jsx)("br",{}),"Weekly Average: ",d(t.weekly_average)," ",(0,r.jsx)("br",{})," ",(0,r.jsx)("br",{}),"Daily Max: ",d(t.daily_max)," ",(0,r.jsx)("br",{}),"Daily Average: ",d(t.daily_average)]})},y=e=>{let{data:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.$Q,{options:f,data:t.chartData}),(0,r.jsx)(x.Z,{data:t.tableData.data,columns:t.tableData.columns})]})},_=()=>{let[e,t]=(0,l.useState)("week"),[a,n]=(0,l.useState)(0),o=e=>{t(e.target.value),n(0)},{data:c,error:x}=(0,i.ZP)({resolution:e,pageIndex:a},j),f=(0,i.ZP)(s.MC,m);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:"Listening Time"}),(0,r.jsx)(h.Z,{data:f.data,error:f.error,component:b}),(0,r.jsx)("br",{})," ",(0,r.jsx)("br",{}),(0,r.jsxs)("label",{children:["Resolution",(0,r.jsxs)("select",{value:e,onChange:o,children:[(0,r.jsx)("option",{value:"day",children:"Day"}),(0,r.jsx)("option",{value:"week",children:"Week"}),(0,r.jsx)("option",{value:"month",children:"Month"}),(0,r.jsx)("option",{value:"year",children:"Year"})]})]}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{disabled:0==a,onClick:()=>n(a-1),children:"<"}),(0,r.jsx)("button",{onClick:()=>n(a+1),children:">"}),(0,r.jsx)("br",{}),(0,r.jsx)(h.Z,{data:c,error:x,component:y})]})};t.default=_}},function(e){e.O(0,[767,100,79,774,888,179],function(){return e(e.s=5056)}),_N_E=e.O()}]);